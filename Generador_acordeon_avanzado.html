<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Acordeón Avanzado</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Cormorant+Garamond:wght@400;700&family=EB+Garamond:wght@400;700&family=Inter:wght@400;700&family=Lato:wght@400;700&family=Lora:wght@400;700&family=Merriweather:wght@400;700&family=Montserrat:wght@400;700&family=Nunito+Sans:wght@400;700&family=Open+Sans:wght@400;700&family=Oswald:wght@400;700&family=PT+Serif:wght@400;700&family=Playfair+Display:wght@400;700&family=Raleway:wght@400;700&family=Roboto:wght@400;700&family=Source+Sans+Pro:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .textarea-code {
            font-family: monospace;
            white-space: pre;
            overflow-wrap: normal;
            overflow-x: auto;
        }
        .option-group {
            background-color: #f9fafb;
            border: 1px solid #e5e7eb;
            padding: 1rem;
            border-radius: 0.5rem;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div class="container mx-auto p-4 md:p-8 max-w-5xl">

        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-900">Generador de Código de Acordeón</h1>
            <p class="text-gray-600 mt-2">Pega tu texto, personaliza los estilos y obtén el código HTML para WordPress.</p>
        </header>

        <main class="bg-white p-6 rounded-lg shadow-lg">

            <!-- INSTRUCCIONES -->
            <div class="mb-6 p-4 bg-blue-50 border-l-4 border-blue-400 text-blue-800 rounded-md">
                <h2 class="font-bold mb-2">Instrucciones de formato:</h2>
                <ol class="list-decimal list-inside space-y-1">
                    <li>El primer párrafo será la introducción.</li>
                    <li>Deja una <strong>línea en blanco</strong> para separar la introducción del primer familiar.</li>
                    <li>Para cada familiar, la <strong>primera línea es el nombre</strong> (el título).</li>
                    <li>Deja una <strong>línea en blanco</strong> entre cada familiar.</li>
                </ol>
            </div>

            <!-- VENTANA DE ENTRADA -->
            <div class="mb-6">
                <label for="inputText" class="block text-lg font-semibold mb-2 text-gray-700">1. Pega tu texto aquí:</label>
                <textarea id="inputText" rows="15" class="w-full p-3 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" placeholder="Pega aquí la información de la rama familiar..."></textarea>
            </div>

            <!-- OPCIONES DE ESTILO -->
            <div class="mb-6">
                <h2 class="text-lg font-semibold mb-3 text-gray-700">2. Personaliza los Estilos:</h2>
                <div class="grid md:grid-cols-2 gap-6">
                    <!-- Opciones para Títulos -->
                    <div class="option-group">
                        <h3 class="font-bold text-lg mb-4 text-gray-800">Títulos (Nombres)</h3>
                        <div class="space-y-4">
                            <div>
                                <label for="tituloFont" class="block text-sm font-medium text-gray-600 mb-1">Tipografía:</label>
                                <select id="tituloFont" class="w-full p-2 border border-gray-300 rounded-md">
                                    <optgroup label="Serif (Clásicas / Elegantes)">
                                        <option value="'Lora', serif" selected>Lora</option>
                                        <option value="'Playfair Display', serif">Playfair Display</option>
                                        <option value="'Merriweather', serif">Merriweather</option>
                                        <option value="'EB Garamond', serif">EB Garamond</option>
                                        <option value="'PT Serif', serif">PT Serif</option>
                                        <option value="'Cormorant Garamond', serif">Cormorant Garamond</option>
                                    </optgroup>
                                    <optgroup label="Sans-serif (Modernas / Limpias)">
                                        <option value="'Inter', sans-serif">Inter</option>
                                        <option value="'Lato', sans-serif">Lato</option>
                                        <option value="'Open Sans', sans-serif">Open Sans</option>
                                        <option value="'Roboto', sans-serif">Roboto</option>
                                        <option value="'Montserrat', sans-serif">Montserrat</option>
                                        <option value="'Nunito Sans', sans-serif">Nunito Sans</option>
                                        <option value="'Source Sans Pro', sans-serif">Source Sans Pro</option>
                                        <option value="'Raleway', sans-serif">Raleway</option>
                                    </optgroup>
                                    <optgroup label="Display (De gran impacto)">
                                        <option value="'Oswald', sans-serif">Oswald</option>
                                        <option value="'Anton', sans-serif">Anton</option>
                                    </optgroup>
                                </select>
                            </div>
                            <div class="flex items-center space-x-4">
                                <div class="flex-1">
                                    <label for="tituloSize" class="block text-sm font-medium text-gray-600 mb-1">Tamaño (px):</label>
                                    <input type="number" id="tituloSize" value="18" min="10" class="w-full p-2 border border-gray-300 rounded-md">
                                </div>
                                <div>
                                    <label for="tituloColor" class="block text-sm font-medium text-gray-600 mb-1">Color:</label>
                                    <input type="color" id="tituloColor" value="#8B0000" class="w-12 h-10 p-1 border border-gray-300 rounded-md cursor-pointer">
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Opciones para Párrafos -->
                    <div class="option-group">
                        <h3 class="font-bold text-lg mb-4 text-gray-800">Párrafos (Contenido)</h3>
                        <div class="space-y-4">
                            <div>
                                <label for="parrafoFont" class="block text-sm font-medium text-gray-600 mb-1">Tipografía:</label>
                                <select id="parrafoFont" class="w-full p-2 border border-gray-300 rounded-md">
                                    <optgroup label="Serif (Para lectura larga)">
                                        <option value="'Lora', serif">Lora</option>
                                        <option value="'Merriweather', serif">Merriweather</option>
                                        <option value="'PT Serif', serif">PT Serif</option>
                                        <option value="'EB Garamond', serif">EB Garamond</option>
                                    </optgroup>
                                    <optgroup label="Sans-serif (Muy legibles)">
                                        <option value="'Inter', sans-serif" selected>Inter</option>
                                        <option value="'Lato', sans-serif">Lato</option>
                                        <option value="'Open Sans', sans-serif">Open Sans</option>
                                        <option value="'Roboto', sans-serif">Roboto</option>
                                        <option value="'Nunito Sans', sans-serif">Nunito Sans</option>
                                        <option value="'Source Sans Pro', sans-serif">Source Sans Pro</option>
                                    </optgroup>
                                </select>
                            </div>
                             <div class="flex items-center space-x-4">
                                <div class="flex-1">
                                    <label for="parrafoSize" class="block text-sm font-medium text-gray-600 mb-1">Tamaño (px):</label>
                                    <input type="number" id="parrafoSize" value="16" min="10" class="w-full p-2 border border-gray-300 rounded-md">
                                </div>
                                <div>
                                    <label for="parrafoColor" class="block text-sm font-medium text-gray-600 mb-1">Color:</label>
                                    <input type="color" id="parrafoColor" value="#374151" class="w-12 h-10 p-1 border border-gray-300 rounded-md cursor-pointer">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- BOTÓN GENERADOR -->
            <div class="text-center my-8">
                <button id="generateBtn" class="bg-blue-600 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:bg-blue-700 active:bg-blue-800 transform hover:scale-105 transition-transform duration-200">
                    Generar Código HTML
                </button>
            </div>

            <!-- VENTANA DE SALIDA -->
            <div>
                <label for="outputText" class="block text-lg font-semibold mb-2 text-gray-700">3. Copia el código generado:</label>
                <div class="relative">
                    <textarea id="outputText" rows="15" readonly class="w-full p-3 border bg-gray-50 border-gray-300 rounded-md shadow-sm textarea-code"></textarea>
                    <button id="copyBtn" class="absolute top-2 right-2 bg-gray-200 text-gray-700 font-semibold py-1 px-3 rounded-md hover:bg-gray-300 transition-colors text-sm">
                        Copiar
                    </button>
                </div>
            </div>
        </main>
        
        <footer class="text-center mt-8 text-gray-500 text-sm">
            <p>Herramienta creada para el proyecto web de la familia Añorga.</p>
        </footer>
    </div>

    <script>
        const inputText = document.getElementById('inputText');
        const outputText = document.getElementById('outputText');
        const generateBtn = document.getElementById('generateBtn');
        const copyBtn = document.getElementById('copyBtn');

        const tituloFont = document.getElementById('tituloFont');
        const tituloSize = document.getElementById('tituloSize');
        const tituloColor = document.getElementById('tituloColor');
        const parrafoFont = document.getElementById('parrafoFont');
        const parrafoSize = document.getElementById('parrafoSize');
        const parrafoColor = document.getElementById('parrafoColor');

        generateBtn.addEventListener('click', () => {
            const rawText = inputText.value;
            if (rawText.trim() === '') {
                outputText.value = 'Por favor, introduce un texto para generar el código.';
                return;
            }

            const sections = rawText.trim().split(/\n\s*\n/);
            const introduction = sections[0];
            const members = sections.slice(1);

            const styleBlock = `<!-- Estilos para el acordeón (personalizados) -->
<style>
  .familia-acordeon details {
    border: 1px solid #e0e0e0; border-radius: 4px; margin-bottom: 8px; background-color: #f9f9f9;
  }
  .familia-acordeon summary {
    font-weight: bold; padding: 16px; cursor: pointer; outline: none; transition: background-color 0.2s;
    font-family: ${tituloFont.value};
    font-size: ${tituloSize.value}px;
    color: ${tituloColor.value};
  }
  .familia-acordeon details[open] summary {
    background-color: #f0f0f0; border-bottom: 1px solid #e0e0e0;
  }
  .familia-acordeon .contenido {
    padding: 0 16px 16px 16px;
  }
  .familia-acordeon .contenido p, .familia-acordeon .intro p {
    margin: 0;
    line-height: 1.6;
    font-family: ${parrafoFont.value};
    font-size: ${parrafoSize.value}px;
    color: ${parrafoColor.value};
  }
</style>`;
            
            let htmlResult = `${styleBlock}

<!-- Contenido del Acordeón -->
<div class="familia-acordeon">
  
  <!-- Introducción -->
  <div class="intro"><p>${introduction}</p></div>\n\n`;

            members.forEach(member => {
                const lines = member.trim().split('\n');
                const title = lines[0].trim();
                const content = lines.slice(1).join(' ').trim();
                
                htmlResult += `  <!-- ${title} -->
  <details>
    <summary>${title}</summary>
    <div class="contenido">
      <p>${content}</p>
    </div>
  </details>\n\n`;
            });

            htmlResult += `</div>`;
            outputText.value = htmlResult;
        });

        copyBtn.addEventListener('click', () => {
            if (outputText.value) {
                outputText.select();
                try {
                    document.execCommand('copy');
                    copyBtn.textContent = '¡Copiado!';
                    setTimeout(() => { copyBtn.textContent = 'Copiar'; }, 2000);
                } catch (err) { alert('No se pudo copiar el texto.'); }
            }
        });
        
        inputText.value = `El origen de la familia Añorga se remonta al siglo XVI, con Joanes de Añorga como señor de la casa solar que llevaba su nombre. El linaje principal y la herencia de la propiedad continuaron a través de los siglos, asegurando la preeminencia de la familia en la región.

Joanes de Añorga
Joanes, señor de la casa de Añorga, nació en torno a 1500, estuvo casado con Domenja de Añorga (de soltera Adúriz Miramón), hija de Christóval de Adúriz y María Esteban de Miramón Lugariz, señora del solar de Miramón.

Mari Juan de Añorga Adúriz-Miramón
Nacida en el primer tercio del siglo XVI sucedió en el señorío de la casa solar de Añorga. El 28 de enero de 1549 se firmó el contrato matrimonial entre Mari Juan de Añorga y Joanes de Berreyarza Unanue.`;
    </script>
</body>
</html>

